# 图像批量标注工具

一个使用语言模型对图像进行批量标注的 Gradio 应用程序。

## 特性

1. 设置图像输入目录
2. 设置标注图像和文本的输出目录
3. 使用自定义编号和前缀/后缀重命名图像
4. 使用自定义提示生成标注文本
5. 支持API模型（如LM Studio）进行图像标注
6. 支持单张图像测试或整个目录的批量处理
7. 可筛选仅显示支持视觉的模型

## 安装

1. 克隆或下载此仓库
2. 安装所需依赖：
   ```
   pip install -r requirements.txt
   ```

## 使用方法

1. 运行应用程序：
   ```
   python app.py
   ```

2. 打开浏览器并访问终端中显示的 URL（通常是 http://localhost:7860）

## 模型选项

### API 模型
- 连接到 LM Studio API（地址：http://localhost:1234）
- 点击"刷新模型"获取可用模型
- 可选择"仅显示支持视觉的模型"来筛选视觉模型

## 批量处理选项

1. 选择输入和输出目录
2. 可选择为所有图像添加自定义提示
3. 启用图像重命名功能：
   - 自定义前缀
   - 自定义后缀
   - 编号起始数字

## 单张图像测试

上传单张图像以测试标注生成功能，而不将结果保存到磁盘。

## 测试

`examples` 目录中提供了一张测试图像，可用于测试应用程序。

## 注意事项

- 支持的图像格式：PNG, JPG, JPEG, BMP, GIF, TIFF, WEBP
- 重命名图像时，原始文件扩展名会被保留
- 标注文本以 TXT 文件形式保存，文件名与图像（或重命名后的图像）相同